<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HPA-Aguka Cooperative - Live Wisely, Save to Invest</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Poppins:wght@400;500;600;700&display=swap');
        body { font-family: 'Inter', sans-serif; background-color: #FEF3C7; }
        h1, h2, h3, h4 { font-family: 'Poppins', sans-serif; }
        .bg-primary-green { background-color: #1B4332; }
        .modal { display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.6); z-index: 100; justify-content: center; align-items: center; }
        .modal.active { display: flex; }
        .btn-primary { background-color: #1B4332; color: white; transition: 0.3s; }
        .btn-primary:hover { background-color: #143628; transform: translateY(-1px); }
        .toast { position: fixed; top: 20px; right: 20px; padding: 16px 24px; border-radius: 8px; color: white; z-index: 1000; transform: translateX(400px); transition: 0.3s; }
        .toast.show { transform: translateX(0); }
    </style>
</head>
<body class="text-gray-800">

    <div id="toastContainer"></div>

    <nav id="publicNav" class="bg-white shadow-md sticky top-0 z-40">
        <div class="max-w-7xl mx-auto px-4 h-16 flex justify-between items-center">
            <div class="flex items-center gap-2">
                <i data-lucide="trees" class="h-8 w-8 text-green-800"></i>
                <div>
                    <h1 class="text-xl font-bold text-green-900">HPA-Aguka</h1>
                    <p class="text-xs text-amber-600 -mt-1">Live Wisely, Save to Invest</p>
                </div>
            </div>
            <div class="hidden md:flex items-center space-x-8">
                <a href="#" class="text-gray-700 hover:text-green-800">About</a>
                <a href="#" class="text-gray-700 hover:text-green-800">Leadership</a>
                <button onclick="showLogin()" class="btn-primary px-6 py-2 rounded-lg font-medium">Member Login</button>
            </div>
        </div>
    </nav>

    <div id="landingPage" class="relative bg-green-900 text-white py-24 px-4 overflow-hidden">
        <div class="max-w-7xl mx-auto relative z-10 text-center md:text-left">
            <h1 class="text-4xl md:text-6xl font-bold mb-6">Build Wealth Together<br/><span class="text-amber-400">Live Wisely</span></h1>
            <p class="text-xl mb-8 max-w-2xl">Join HPA-Aguka: 20 members saving diligently for a prosperous future.</p>
            <button onclick="showLogin()" class="bg-amber-500 hover:bg-amber-600 text-white px-8 py-4 rounded-lg font-bold text-lg">Access Member Portal</button>
        </div>
    </div>

    <div id="loginModal" class="modal" onclick="if(event.target == this) closeLogin()">
        <div class="bg-white p-8 rounded-2xl shadow-xl max-w-md w-full relative">
            <button onclick="closeLogin()" class="absolute top-4 right-4 text-gray-400 hover:text-gray-600"><i data-lucide="x"></i></button>
            <div class="text-center mb-6">
                <h2 class="text-2xl font-bold">Member Login</h2>
                <p class="text-sm text-gray-500">Demo Password is "password"</p>
            </div>
            <form onsubmit="handleLogin(event)" class="space-y-4">
                <div>
                    <label class="block text-sm font-medium mb-1">Email</label>
                    <input type="email" id="loginEmail" class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500 outline-none" placeholder="reuben@hpaaguka.com" required>
                </div>
                <div>
                    <label class="block text-sm font-medium mb-1">Password</label>
                    <input type="password" id="loginPassword" class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500 outline-none" required>
                </div>
                <button type="submit" class="w-full btn-primary py-3 rounded-lg font-bold">Sign In</button>
            </form>
        </div>
    </div>

    <div id="appContainer" class="hidden min-h-screen bg-gray-50">
        <div class="p-8 max-w-7xl mx-auto">
            <div class="flex justify-between items-center mb-8">
                <h2 id="pageTitle" class="text-3xl font-bold">Dashboard</h2>
                <button onclick="logout()" class="text-red-600 font-medium">Logout</button>
            </div>
            <div id="contentArea" class="grid gap-6"></div>
        </div>
    </div>

    <script>
        lucide.createIcons();

        // 1. YOUR REAL DATA
        const defaultMembers = [
            { id: "HPA-001", fullName: "Innocent TURIKUMWE", role: "Admin/Member", penalties: 1000, totalBalance: 310000, email: "innocent@hpaaguka.com", password: "password" },
            { id: "HPA-002", fullName: "KAGABO Emmanuel", role: "Member", penalties: 4500, totalBalance: 320000, email: "kagabo@hpaaguka.com", password: "password" },
            { id: "HPA-007", fullName: "Reuben SINDAYIHEBA", role: "Admin/Member", penalties: 1000, totalBalance: 320000, email: "reuben@hpaaguka.com", password: "password" },
            { id: "HPA-011", fullName: "Eliab MWISENEZA", role: "Admin/Member", penalties: 5605, totalBalance: 320000, email: "eliab@hpaaguka.com", password: "password" },
            { id: "HPA-020", fullName: "NIYOMUFASHA Gentille", role: "Member", penalties: 101131, totalBalance: 320000, email: "gentille@hpaaguka.com", password: "password" }
            // Add other members here using the same format
        ];

        // 2. MODAL LOGIC
        function showLogin() {
            document.getElementById('loginModal').classList.add('active');
        }
        function closeLogin() {
            document.getElementById('loginModal').classList.remove('active');
        }

        // 3. AUTH LOGIC
        function handleLogin(e) {
            e.preventDefault();
            const email = document.getElementById('loginEmail').value;
            const pass = document.getElementById('loginPassword').value;

            const user = defaultMembers.find(u => u.email === email && u.password === pass);

            if (user) {
                document.getElementById('landingPage').classList.add('hidden');
                document.getElementById('publicNav').classList.add('hidden');
                document.getElementById('loginModal').classList.remove('active');
                document.getElementById('appContainer').classList.remove('hidden');
                renderDashboard(user);
                showToast("Welcome to HPA Portal", "success");
            } else {
                showToast("Invalid Credentials", "error");
            }
        }

        function renderDashboard(user) {
            const container = document.getElementById('contentArea');
            container.innerHTML = `
                <div class="bg-white p-6 rounded-xl shadow-md border-l-4 border-green-600">
                    <p class="text-sm text-gray-500 font-bold uppercase">Member Name</p>
                    <h3 class="text-2xl font-bold">${user.fullName}</h3>
                    <div class="grid grid-cols-2 gap-4 mt-4">
                        <div class="bg-gray-50 p-4 rounded">
                            <p class="text-xs text-gray-400">TOTAL SAVINGS</p>
                            <p class="text-xl font-bold text-green-700">${user.totalBalance.toLocaleString()} RWF</p>
                        </div>
                        <div class="bg-gray-50 p-4 rounded">
                            <p class="text-xs text-gray-400">PENALTIES DUE</p>
                            <p class="text-xl font-bold text-red-600">${user.penalties.toLocaleString()} RWF</p>
                        </div>
                    </div>
                </div>
            `;
        }

        function logout() {
            location.reload();
        }

        function showToast(msg, type) {
            const toast = document.createElement('div');
            toast.className = `toast show ${type === 'success' ? 'bg-green-600' : 'bg-red-600'}`;
            toast.innerText = msg;
            document.getElementById('toastContainer').appendChild(toast);
            setTimeout(() => toast.remove(), 3000);
        }
    </script>
</body>
</html>
